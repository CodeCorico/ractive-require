!function(){"use strict";var t;t="undefined"!=typeof XMLHttpRequest?function(t){return new window.Ractive.Promise(function(e,n){var r,i,o;r=new XMLHttpRequest,r.open("GET",t),i=function(){4!==r.readyState||o||(e(r.responseText),o=!0)},r.onload=r.onreadystatechange=i,r.onerror=n,r.send(),4===r.readyState&&i()})}:function(t){return new window.Ractive.Promise(function(e,n){require("fs").readFile(t,function(t,r){return t?n(t):void e(r.toString())})})},window.Ractive.getHtml=t}(),function(){"use strict";function t(e,n,r,i,o,a){a=a||0,a<e.length&&e[a](n,r,i,o,function(){t(e,n,r,i,o,++a)})}var e={};window.Ractive.controller=function(t,n){e[t]=e[t]||[],"function"==typeof n&&e[t].push(n)},window.Ractive.fireController=function(n,r,i,o,a){e[n]&&t(e[n],r,i,o,a)}}(),function(){"use strict";function t(t,e){var n=t.getAttribute("src")||!1,r=t.getAttribute("target");return r?n?void window.Ractive.getHtml(n).then(function(t){e(r,t)}):void e(r,t.innerHTML):e(!1)}function e(e,n){return new window.Ractive.Promise(function(r){var i,o={},a=e.querySelectorAll("rv-partial"),u=a.length;for(i in n.partials)o[i]=n.partials[i];return u?void Array.prototype.map.call(a,function(e){t(e,function(t,e){t&&(o[t]=e),--u,1>u&&r(o)})}):r(o)})}function n(t,e){for(var n,r,i={},o=0;o<t.attributes.length;o++)n=t.attributes[o],0===n.name.indexOf("data-bind-")?(r=n.name.substr(10,n.name.length-10),i[r]=e.get(n.value)):0===n.name.indexOf("data-")&&(r=n.name.substr(5,n.name.length-5),i[r]=n.value);return i}function r(t,i,o,a,u){a=a||!1;var c=i.getAttribute("src"),d=i.getAttribute("name")||c,l=a||"true"==i.getAttribute("no-script"),s=u||"true"==i.getAttribute("no-css");if(i.setAttribute("loaded","true"),!window.Ractive.templates[d]){if(!l){var f=document.createElement("script");return f.type="text/javascript",f.src=c+".js",f.onload=function(){r(t,i,o,!0,s)},void document.getElementsByTagName("head")[0].appendChild(f)}if(!s){var v=document.createElement("link");return v.rel="stylesheet",v.href=c+".css",v.onload=function(){r(t,i,o,l,!0)},void document.getElementsByTagName("head")[0].appendChild(v)}return void window.Ractive.getHtml(c+".html").then(function(e){window.Ractive.templates[d]=e,r(t,i,o)})}var w=window.Ractive.templates[d],p=n(i,t);e(i,t).then(function(t){i.innerHTML="",window.Ractive.fireController(d,function(e){if(e=e||{},e.el=e.el||i,e.template=e.template||w,e.partials){var n;for(n in e.partials)t[n]=e.partials[n]}return e.partials=t,new window.Ractive(e)},p,i,{template:w,partials:t}),o&&o()})}function i(t,e){return t.parentNode!=e?"rv-require"==t.parentNode.tagName.toLowerCase()?!1:i(t.parentNode,e):!0}window.Ractive.templates=window.Ractive.templates||{},window.Ractive.prototype.require=function(t){t=t||null;var e=this;return new window.Ractive.Promise(function(n){var o=e.findAll(t?'rv-require[src][ondemand="'+t+'"]:not([loaded="true"])':'rv-require[src]:not([loaded="true"]):not([ondemand])'),a=o.length;return 1>a?n():void o.forEach(function(t){i(t,e.el)&&r(e,t,function(){--a,1>a&&n()})})})}}();
//# sourceMappingURL=ractive-require.min.js.map